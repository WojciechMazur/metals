<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">Metals v0.5.1 - Mercury | Metals</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="http://scalameta.org/metals/img/scalameta-logo.png"><meta data-rh="true" name="twitter:image" content="http://scalameta.org/metals/img/scalameta-logo.png"><meta data-rh="true" property="og:url" content="http://scalameta.org/metals/blog/2019/04/26/mercury"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Metals v0.5.1 - Mercury | Metals"><meta data-rh="true" name="description" content="This release introduces minor improvements and bug fixes with highlights"><meta data-rh="true" property="og:description" content="This release introduces minor improvements and bug fixes with highlights"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2019-04-26T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://twitter.com/olafurpg"><link data-rh="true" rel="icon" href="/metals/img/favicon.ico"><link data-rh="true" rel="canonical" href="http://scalameta.org/metals/blog/2019/04/26/mercury"><link data-rh="true" rel="alternate" href="http://scalameta.org/metals/blog/2019/04/26/mercury" hreflang="en"><link data-rh="true" rel="alternate" href="http://scalameta.org/metals/blog/2019/04/26/mercury" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://DZKJ3Z5JFX-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/metals/blog/rss.xml" title="Metals RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/metals/blog/atom.xml" title="Metals Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-140140828-1"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-140140828-1",{})</script>


<link rel="search" type="application/opensearchdescription+xml" title="Metals" href="/metals/opensearch.xml"><link rel="stylesheet" href="/metals/assets/css/styles.7a4b1562.css">
<link rel="preload" href="/metals/assets/js/runtime~main.470bca00.js" as="script">
<link rel="preload" href="/metals/assets/js/main.b279a094.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/metals/"><div class="navbar__logo"><img src="/metals/img/scalameta-logo.png" alt="" class="themedImage_ToTc themedImage--light_HNdA"><img src="/metals/img/scalameta-logo.png" alt="" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Metals</b></a><a class="navbar__item navbar__link" href="/metals/docs/">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/metals/blog/">Blog</a><a href="https://github.com/scalameta/metals" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">All Blog Posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/metals/blog/2023/01/02/aluminium">Metals v0.11.10 - Aluminium</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/metals/blog/2022/10/06/aluminium">Metals v0.11.9 - Aluminium</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/metals/blog/2022/08/10/aluminium">Metals v0.11.8 - Aluminium</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/metals/blog/2022/07/04/aluminium">Metals v0.11.7 - Aluminium</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/metals/blog/2022/06/03/aluminium">Metals v0.11.6 - Aluminium</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/metals/blog/2022/04/28/aluminium">Metals v0.11.5 - Aluminium</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/metals/blog/2022/04/27/aluminium">Metals v0.11.4 - Aluminium</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/metals/blog/2022/04/26/aluminium">Metals v0.11.3 - Aluminium</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/metals/blog/2022/03/08/aluminium">Metals v0.11.2 - Aluminium</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/metals/blog/2022/02/23/towards-better-releases">Towards better releases</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/metals/blog/2022/01/17/aluminium">Metals v0.11.1 - Aluminium</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/metals/blog/2022/01/12/aluminium">Metals v0.11.0 - Aluminium</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/metals/blog/2021/11/03/tungsten">Metals v0.10.9 - Tungsten</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/metals/blog/2021/10/26/tungsten">Metals v0.10.8 - Tungsten</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/metals/blog/2021/09/16/tungsten">Metals v0.10.7 - Tungsten</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/metals/blog/2021/09/06/tungsten">Metals v0.10.6 - Tungsten</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/metals/blog/2021/07/14/tungsten">Metals v0.10.5 - Tungsten</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/metals/blog/2021/05/31/tungsten">Metals v0.10.4 - Tungsten</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/metals/blog/2021/05/17/tungsten">Metals v0.10.3 - Tungsten</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/metals/blog/2021/04/20/tungsten">Metals v0.10.2 - Tungsten</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/metals/blog/2021/04/06/tungsten">Metals v0.10.1 - Tungsten</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/metals/blog/2021/02/24/tungsten">Metals v0.10.0 - Tungsten</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/metals/blog/2021/02/02/metals-retro-part1">A Metals Retrospective (Part 1)</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/metals/blog/2021/01/19/lithium">Metals v0.9.10 - Lithium</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/metals/blog/2020/12/19/lithium">Metals v0.9.8 - Lithium</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/metals/blog/2020/11/26/lithium">Metals v0.9.7 - Lithium</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/metals/blog/2020/11/20/lithium">Metals v0.9.6 - Lithium</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/metals/blog/2020/11/10/lithium">Metals v0.9.5 - Lithium</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/metals/blog/2020/11/06/sbt-BSP-support">sbt BSP support</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/metals/blog/2020/09/21/lithium">Metals v0.9.4 - Lithium</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/metals/blog/2020/08/19/lithium">Metals v0.9.3 - Lithium</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/metals/blog/2020/07/23/configuring-a-client">A Dive into Configuring Metals</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/metals/blog/2020/07/15/lithium">Metals v0.9.2 - Lithium</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/metals/blog/2020/07/01/lithium">Metals v0.9.1 - Lithium</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/metals/blog/2020/05/04/lithium">Metals v0.9.0 - Lithium</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/metals/blog/2020/04/12/mercury">Metals v0.5.0 (Redirect)</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/metals/blog/2020/04/10/cobalt">Metals v0.8.4 - Cobalt</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/metals/blog/2020/03/19/cobalt">Metals v0.8.3 - Cobalt</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/metals/blog/2020/02/26/cobalt">Metals v0.8.1 - Cobalt</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/metals/blog/2020/01/10/cobalt">Metals v0.8.0 - Cobalt</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/metals/blog/2019/09/23/thorium">Metals v0.7.6 - Thorium</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/metals/blog/2019/09/12/thorium">Metals v0.7.5 - Thorium</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/metals/blog/2019/09/02/thorium">Metals v0.7.2 - Thorium</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/metals/blog/2019/06/28/thorium">Metals v0.7.0 - Thorium</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/metals/blog/2019/06/11/radium">Metals v0.6.1 - Radium</a></li><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/metals/blog/2019/04/26/mercury">Metals v0.5.1 - Mercury</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/metals/blog/2019/04/12/mercury">Metals v0.5.0 - Mercury</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/metals/blog/2019/02/01/tin">Metals v0.4.4 - Tin</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/metals/blog/2019/01/24/tin">Metals v0.4.0 - Tin</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/metals/blog/2019/01/22/bloom-filters">Low-memory symbol indexing with bloom filters</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/metals/blog/2018/12/14/iron">Metals v0.3.2 - Iron</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/metals/blog/2018/12/12/fast-goto-definition">Fast goto definition with low memory footprint</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/metals/blog/2018/12/06/iron">Metals v0.3 - Iron</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h1 class="title_f1Hy" itemprop="headline">Metals v0.5.1 - Mercury</h1><div class="container_mt6G margin-vert--md"><time datetime="2019-04-26T00:00:00.000Z" itemprop="datePublished">April 26, 2019</time> · <!-- -->4 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://twitter.com/olafurpg" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars2.githubusercontent.com/u/1408093?s=460&amp;v=4" alt="Ólafur Páll Geirsson"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://twitter.com/olafurpg" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Ólafur Páll Geirsson</span></a></div></div></div></div></div></header><div id="post-content" class="markdown" itemprop="articleBody"><p>This release introduces minor improvements and bug fixes with highlights
including:</p><ul><li>auto-imports are inserted at the toplevel instead of locally</li><li>document symbol lists inner methods and anonymous classes</li><li>the recommended Vim client is now coc.nvim</li><li>diagnostics are cleared for deleted files</li><li>fuzzy symbol search no longer returns results for deleted files</li><li>find all references now handles synthetic <code>update</code> calls</li><li>deprecate older Scala versions</li></ul><p>Metals is a language server for Scala that works with VS Code, Atom, Vim,
Sublime Text and Emacs. Metals is developed at the
<a href="https://scala.epfl.ch/" target="_blank" rel="noopener noreferrer">Scala Center</a> along with contributors from the
community.</p><p>In this release we merged 15 PRs and closed 7 issues, full details:
<a href="https://github.com/scalameta/metals/milestone/8?closed=1" target="_blank" rel="noopener noreferrer">https://github.com/scalameta/metals/milestone/8?closed=1</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="automatic-imports-are-placed-globally-instead-of-locally">Automatic imports are placed globally instead of locally<a class="hash-link" href="#automatic-imports-are-placed-globally-instead-of-locally" title="Direct link to heading">​</a></h2><p>Previously, auto-imports were placed locally like this:</p><div class="language-scala codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-scala codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">object Main {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  import scala.concurrent.Future // &lt;- automatically added by Metals</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  val future = Future@@</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Now, the import is inserted at the toplevel instead</p><div class="language-scala codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-scala codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">import scala.concurrent.Future // &lt;- automatically added by Metals</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">object Main {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  val future = Future@@</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="document-symbols-now-shows-inner-methods-and-anonymous-classes">Document symbols now shows inner methods and anonymous classes<a class="hash-link" href="#document-symbols-now-shows-inner-methods-and-anonymous-classes" title="Direct link to heading">​</a></h2><p><strong>Before</strong>:</p><p><img loading="lazy" src="https://user-images.githubusercontent.com/691940/56455884-dc92d300-6364-11e9-837e-c8aedd13e78d.png" alt="image" class="img_ev3q"></p><p><strong>After</strong>:</p><p><img loading="lazy" src="https://user-images.githubusercontent.com/691940/56455880-cab13000-6364-11e9-910a-4b55854df147.png" alt="image" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="diagnostics-gracefully-handle-deleted-files">Diagnostics gracefully handle deleted files<a class="hash-link" href="#diagnostics-gracefully-handle-deleted-files" title="Direct link to heading">​</a></h2><p>Previously, deleting a file with compile errors would result in the stale
diagnostics to stay until you restarted the Metals server. Now, diagnostics are
cleared when a source file is deleted.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="fuzzy-symbol-search-gracefully-handles-deleted-files">Fuzzy symbol search gracefully handles deleted files<a class="hash-link" href="#fuzzy-symbol-search-gracefully-handles-deleted-files" title="Direct link to heading">​</a></h2><p>Previously, fuzzy searching for a symbol could return results from deleted
files. Now, fuzzy symbol search only shows results from files that exist on
disk.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="find-all-references-handles-synthetic-update-calls">Find all references handles synthetic <code>update</code> calls<a class="hash-link" href="#find-all-references-handles-synthetic-update-calls" title="Direct link to heading">​</a></h2><p>Previously, find all references did not catch references where an <code>update()</code>
method call was synthesized.</p><div class="language-scala codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-scala codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">val cache = mutable.Map.empty[String, String]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">cache(&quot;a&quot;) = &quot;b&quot; // before: referenced `Map.update()` instead of `cache`</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Now, the reference to <code>cache</code> in <code>cache(&quot;a&quot;) = &quot;b&quot;</code> is indexed as well as the
synthetic call to the <code>Map.update()</code> method.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-recommended-vim-client-is-now-cocnvim">The recommended Vim client is now coc.nvim<a class="hash-link" href="#the-recommended-vim-client-is-now-cocnvim" title="Direct link to heading">​</a></h2><p>Previously, the
<a href="https://scalameta.org/metals/docs/editors/vim.html" target="_blank" rel="noopener noreferrer">vim installation instructions</a>
recommended the vim-lsc client. Now, the installation instructions recommend
coc.vim since it supports more functionality of the Language Server Protocol. If
you use Vim, we recommend trying out coc.vim to enjoy more advanced features
like completions with auto-imports.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="deprecate-older-scala-versions">Deprecate older Scala versions<a class="hash-link" href="#deprecate-older-scala-versions" title="Direct link to heading">​</a></h2><p>Metals works with Scala 2.11 and Scala 2.12. Starting from the next release,
Metals will drop support for the older patch versions of those series, and it
will exclusively support these version:</p><ul><li>2.11.12</li><li>2.12.7</li><li>2.12.8</li></ul><p>Starting from this release, we will show a warning at startup if you&#x27;re using an
outdated Scala version, prompting you to upgrade your project to the latest
version.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="contributors">Contributors<a class="hash-link" href="#contributors" title="Direct link to heading">​</a></h2><p>Big thanks to everybody who contributed to this release!</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ git shortlog -sn --no-merges v0.5.0..v0.5.1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Ólafur Páll Geirsson</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Gabriele Petronella</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Gabriel Volpe</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">JesusMtnez</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Eric Peters</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Arnout Engelen</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Robin Green</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Tomasz Godzik</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">David Strawn</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="merged-prs">Merged PRs<a class="hash-link" href="#merged-prs" title="Direct link to heading">​</a></h2><ul><li>Upgrade to latest Scalameta.
<a href="https://github.com/scalameta/metals/pull/702" target="_blank" rel="noopener noreferrer">#<!-- -->702</a>
(<a href="https://github.com/olafurpg" target="_blank" rel="noopener noreferrer">olafurpg</a>)</li><li>Add question template <a href="https://github.com/scalameta/metals/pull/701" target="_blank" rel="noopener noreferrer">#<!-- -->701</a>
(<a href="https://github.com/gabro" target="_blank" rel="noopener noreferrer">gabro</a>)</li><li>Don&#x27;t return workspace/symbol results for deleted files.
<a href="https://github.com/scalameta/metals/pull/695" target="_blank" rel="noopener noreferrer">#<!-- -->695</a>
(<a href="https://github.com/olafurpg" target="_blank" rel="noopener noreferrer">olafurpg</a>)</li><li>Insert global imports instead of local imports.
<a href="https://github.com/scalameta/metals/pull/692" target="_blank" rel="noopener noreferrer">#<!-- -->692</a>
(<a href="https://github.com/olafurpg" target="_blank" rel="noopener noreferrer">olafurpg</a>)</li><li>Fix a dead link to Bloop site
<a href="https://github.com/scalameta/metals/pull/691" target="_blank" rel="noopener noreferrer">#<!-- -->691</a>
(<a href="https://github.com/gabro" target="_blank" rel="noopener noreferrer">gabro</a>)</li><li>Update a couple .lines to .linesIterator for java11
<a href="https://github.com/scalameta/metals/pull/688" target="_blank" rel="noopener noreferrer">#<!-- -->688</a>
(<a href="https://github.com/er1c" target="_blank" rel="noopener noreferrer">er1c</a>)</li><li>Fix typo <a href="https://github.com/scalameta/metals/pull/687" target="_blank" rel="noopener noreferrer">#<!-- -->687</a>
(<a href="https://github.com/greenrd" target="_blank" rel="noopener noreferrer">greenrd</a>)</li><li>Handle document symbols for nested declarations
<a href="https://github.com/scalameta/metals/pull/686" target="_blank" rel="noopener noreferrer">#<!-- -->686</a>
(<a href="https://github.com/gabro" target="_blank" rel="noopener noreferrer">gabro</a>)</li><li>Update Emacs docs <a href="https://github.com/scalameta/metals/pull/681" target="_blank" rel="noopener noreferrer">#<!-- -->681</a>
(<a href="https://github.com/JesusMtnez" target="_blank" rel="noopener noreferrer">JesusMtnez</a>)</li><li>Add &quot;Coming from IntelliJ&quot; section to VS Code docs.
<a href="https://github.com/scalameta/metals/pull/678" target="_blank" rel="noopener noreferrer">#<!-- -->678</a>
(<a href="https://github.com/olafurpg" target="_blank" rel="noopener noreferrer">olafurpg</a>)</li><li>Clear diagnostics on build import, fixes <!-- -->#<!-- -->644.
<a href="https://github.com/scalameta/metals/pull/677" target="_blank" rel="noopener noreferrer">#<!-- -->677</a>
(<a href="https://github.com/olafurpg" target="_blank" rel="noopener noreferrer">olafurpg</a>)</li><li>Disable flaky test on Appveyor.
<a href="https://github.com/scalameta/metals/pull/676" target="_blank" rel="noopener noreferrer">#<!-- -->676</a>
(<a href="https://github.com/olafurpg" target="_blank" rel="noopener noreferrer">olafurpg</a>)</li><li>Update stable version in issue template
<a href="https://github.com/scalameta/metals/pull/671" target="_blank" rel="noopener noreferrer">#<!-- -->671</a>
(<a href="https://github.com/gabro" target="_blank" rel="noopener noreferrer">gabro</a>)</li><li>Documenting coc.nvim as the recommended LSP client for Vim
<a href="https://github.com/scalameta/metals/pull/665" target="_blank" rel="noopener noreferrer">#<!-- -->665</a>
(<a href="https://github.com/gvolpe" target="_blank" rel="noopener noreferrer">gvolpe</a>)</li><li>Remove Deprecated Usage Of <code>java.util.Date</code> API
<a href="https://github.com/scalameta/metals/pull/663" target="_blank" rel="noopener noreferrer">#<!-- -->663</a>
(<a href="https://github.com/isomarcte" target="_blank" rel="noopener noreferrer">isomarcte</a>)</li><li>Link to vscode marketplace
<a href="https://github.com/scalameta/metals/pull/661" target="_blank" rel="noopener noreferrer">#<!-- -->661</a>
(<a href="https://github.com/raboof" target="_blank" rel="noopener noreferrer">raboof</a>)</li><li>Use correct GIF for signature help on landing page.
<a href="https://github.com/scalameta/metals/pull/660" target="_blank" rel="noopener noreferrer">#<!-- -->660</a>
(<a href="https://github.com/olafurpg" target="_blank" rel="noopener noreferrer">olafurpg</a>)</li><li>Document new features and write release announcement.
<a href="https://github.com/scalameta/metals/pull/655" target="_blank" rel="noopener noreferrer">#<!-- -->655</a>
(<a href="https://github.com/olafurpg" target="_blank" rel="noopener noreferrer">olafurpg</a>)</li><li>Make detail view in override not show unicode character.
<a href="https://github.com/scalameta/metals/pull/654" target="_blank" rel="noopener noreferrer">#<!-- -->654</a>
(<a href="https://github.com/tgodzik" target="_blank" rel="noopener noreferrer">tgodzik</a>)</li></ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/metals/blog/2019/06/11/radium"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">Metals v0.6.1 - Radium</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/metals/blog/2019/04/12/mercury"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">Metals v0.5.0 - Mercury</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#automatic-imports-are-placed-globally-instead-of-locally" class="table-of-contents__link toc-highlight">Automatic imports are placed globally instead of locally</a></li><li><a href="#document-symbols-now-shows-inner-methods-and-anonymous-classes" class="table-of-contents__link toc-highlight">Document symbols now shows inner methods and anonymous classes</a></li><li><a href="#diagnostics-gracefully-handle-deleted-files" class="table-of-contents__link toc-highlight">Diagnostics gracefully handle deleted files</a></li><li><a href="#fuzzy-symbol-search-gracefully-handles-deleted-files" class="table-of-contents__link toc-highlight">Fuzzy symbol search gracefully handles deleted files</a></li><li><a href="#find-all-references-handles-synthetic-update-calls" class="table-of-contents__link toc-highlight">Find all references handles synthetic <code>update</code> calls</a></li><li><a href="#the-recommended-vim-client-is-now-cocnvim" class="table-of-contents__link toc-highlight">The recommended Vim client is now coc.nvim</a></li><li><a href="#deprecate-older-scala-versions" class="table-of-contents__link toc-highlight">Deprecate older Scala versions</a></li><li><a href="#contributors" class="table-of-contents__link toc-highlight">Contributors</a></li><li><a href="#merged-prs" class="table-of-contents__link toc-highlight">Merged PRs</a></li></ul></div></div></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Overview</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/metals/docs/overview/editor-support">Overview</a></li><li class="footer__item"><a class="footer__link-item" href="/metals/docs/build-tools/overview">Build Tools</a></li><li class="footer__item"><a class="footer__link-item" href="/metals/docs/contributors/project-goals">Project Goals</a></li><li class="footer__item"><a class="footer__link-item" href="/metals/docs/contributors/getting-started">Contributing</a></li></ul></div><div class="col footer__col"><div class="footer__title">Social</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/scalameta/metals" target="_blank">
                      <img src="https://img.shields.io/github/stars/scalameta/metals.svg?color=%23087e8b&label=stars&logo=github&style=social">
                    </a></li><li class="footer__item"><a href="https://discord.gg/RFpSVth" target="_blank">
                      <img src="https://img.shields.io/discord/632642981228314653?logo=discord&style=social">
                    </a></li><li class="footer__item"><a href="https://twitter.com/scalameta" target="_blank">
                      <img src="https://img.shields.io/twitter/follow/scalameta.svg?logo=twitter&style=social">
                    </a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/metals/img/scalameta-logo.png" class="themedImage_ToTc themedImage--light_HNdA footer__logo"><img src="/metals/img/scalameta-logo.png" class="themedImage_ToTc themedImage--dark_i4oU footer__logo"></div><div class="footer__copyright">Copyright © 2023 Metals</div></div></div></footer></div>
<script src="/metals/assets/js/runtime~main.470bca00.js"></script>
<script src="/metals/assets/js/main.b279a094.js"></script>
</body>
</html>