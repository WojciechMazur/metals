"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8933],{3905:(t,e,r)=>{r.d(e,{Zo:()=>c,kt:()=>h});var n=r(7294);function o(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function i(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach((function(e){o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function s(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},a=Object.keys(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}var l=n.createContext({}),u=function(t){var e=n.useContext(l),r=e;return t&&(r="function"==typeof t?t(e):i(i({},e),t)),r},c=function(t){var e=u(t.components);return n.createElement(l.Provider,{value:e},t.children)},p="mdxType",m={inlineCode:"code",wrapper:function(t){var e=t.children;return n.createElement(n.Fragment,{},e)}},f=n.forwardRef((function(t,e){var r=t.components,o=t.mdxType,a=t.originalType,l=t.parentName,c=s(t,["components","mdxType","originalType","parentName"]),p=u(r),f=o,h=p["".concat(l,".").concat(f)]||p[f]||m[f]||a;return r?n.createElement(h,i(i({ref:e},c),{},{components:r})):n.createElement(h,i({ref:e},c))}));function h(t,e){var r=arguments,o=e&&e.mdxType;if("string"==typeof t||o){var a=r.length,i=new Array(a);i[0]=f;var s={};for(var l in e)hasOwnProperty.call(e,l)&&(s[l]=e[l]);s.originalType=t,s[p]="string"==typeof t?t:o,i[1]=s;for(var u=2;u<a;u++)i[u]=r[u];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}f.displayName="MDXCreateElement"},4572:(t,e,r)=>{r.r(e),r.d(e,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>s,metadata:()=>u,toc:()=>p});var n=r(7462),o=r(3366),a=(r(7294),r(3905)),i=["components"],s={author:"\xd3lafur P\xe1ll Geirsson",title:"Fast goto definition with low memory footprint",authorURL:"https://twitter.com/olafurpg",authorImageURL:"https://avatars2.githubusercontent.com/u/1408093?s=460&v=4"},l=void 0,u={permalink:"/metals/blog/2018/12/12/fast-goto-definition",source:"@site/blog/2018-12-12-fast-goto-definition.md",title:"Fast goto definition with low memory footprint",description:"Metals throws away its navigation index when it shuts down. Next time it starts,",date:"2018-12-12T00:00:00.000Z",formattedDate:"December 12, 2018",tags:[],readingTime:8.42,hasTruncateMarker:!0,authors:[{name:"\xd3lafur P\xe1ll Geirsson",url:"https://twitter.com/olafurpg",imageURL:"https://avatars2.githubusercontent.com/u/1408093?s=460&v=4"}],frontMatter:{author:"\xd3lafur P\xe1ll Geirsson",title:"Fast goto definition with low memory footprint",authorURL:"https://twitter.com/olafurpg",authorImageURL:"https://avatars2.githubusercontent.com/u/1408093?s=460&v=4"},prevItem:{title:"Metals v0.3.2 - Iron",permalink:"/metals/blog/2018/12/14/iron"},nextItem:{title:"Metals v0.3 - Iron",permalink:"/metals/blog/2018/12/06/iron"}},c={authorsImageUrls:[void 0]},p=[],m={toc:p},f="wrapper";function h(t){var e=t.components,r=(0,o.Z)(t,i);return(0,a.kt)(f,(0,n.Z)({},m,r,{components:e,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"Metals throws away its navigation index when it shuts down. Next time it starts,\nthe index is computed again from scratch. Although this approach is simple, it\nrequires indexing to be fast enough so you don't mind running it again and\nagain. Also, because we don't persist the index to disk, we need to be careful\nwith memory usage."),(0,a.kt)("p",null,"This post covers how Metals achieves fast source indexing for Scala with a small\nmemory footprint. We describe the problem statement, explain the initial\nsolution and how an optimization delivered a 10x speedup. Finally, we evaluate\nthe result on a real-world project."))}h.isMDXComponent=!0}}]);