"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[190],{3905:(e,t,a)=>{a.d(t,{Zo:()=>m,kt:()=>d});var r=a(7294);function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function n(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){l(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,r,l=function(e,t){if(null==e)return{};var a,r,l={},i=Object.keys(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var s=r.createContext({}),p=function(e){var t=r.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):n(n({},t),e)),a},m=function(e){var t=p(e.components);return r.createElement(s.Provider,{value:t},e.children)},u="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},h=r.forwardRef((function(e,t){var a=e.components,l=e.mdxType,i=e.originalType,s=e.parentName,m=o(e,["components","mdxType","originalType","parentName"]),u=p(a),h=l,d=u["".concat(s,".").concat(h)]||u[h]||c[h]||i;return a?r.createElement(d,n(n({ref:t},m),{},{components:a})):r.createElement(d,n({ref:t},m))}));function d(e,t){var a=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var i=a.length,n=new Array(i);n[0]=h;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o[u]="string"==typeof e?e:l,n[1]=o;for(var p=2;p<i;p++)n[p]=a[p];return r.createElement.apply(null,n)}return r.createElement.apply(null,a)}h.displayName="MDXCreateElement"},4346:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>m,contentTitle:()=>s,default:()=>h,frontMatter:()=>o,metadata:()=>p,toc:()=>u});var r=a(7462),l=a(3366),i=(a(7294),a(3905)),n=["components"],o={author:"Tomasz Godzik",title:"Metals v0.7.5 - Thorium",authorURL:"https://twitter.com/TomekGodzik",authorImageURL:"https://github.com/tgodzik.png"},s=void 0,p={permalink:"/metals/blog/2019/09/12/thorium",source:"@site/blog/2019-09-12-thorium.md",title:"Metals v0.7.5 - Thorium",description:'We are excited to announce the release of Metals v0.7.5 - codename "Thorium" \ud83c\udf89',date:"2019-09-12T00:00:00.000Z",formattedDate:"September 12, 2019",tags:[],readingTime:3.04,truncated:!1,authors:[{name:"Tomasz Godzik",url:"https://twitter.com/TomekGodzik",imageURL:"https://github.com/tgodzik.png"}],frontMatter:{author:"Tomasz Godzik",title:"Metals v0.7.5 - Thorium",authorURL:"https://twitter.com/TomekGodzik",authorImageURL:"https://github.com/tgodzik.png"},prevItem:{title:"Metals v0.7.6 - Thorium",permalink:"/metals/blog/2019/09/23/thorium"},nextItem:{title:"Metals v0.7.2 - Thorium",permalink:"/metals/blog/2019/09/02/thorium"}},m={authorsImageUrls:[void 0]},u=[{value:"TL;DR",id:"tldr",children:[],level:2},{value:"Add auto-fill option to case classes",id:"add-auto-fill-option-to-case-classes",children:[],level:2},{value:"Deduce values for named parameters completions",id:"deduce-values-for-named-parameters-completions",children:[],level:2},{value:"Multiple fixes after adding support for Scala 2.12.9",id:"multiple-fixes-after-adding-support-for-scala-2129",children:[],level:2},{value:"Fixes for automatic addition of <code>|</code> in multiline strings",id:"fixes-for-automatic-addition-of--in-multiline-strings",children:[],level:2},{value:"Contributors",id:"contributors",children:[],level:2},{value:"Merged PRs",id:"merged-prs",children:[],level:2},{value:"v0.7.5 (2019-09-12)",id:"v075-2019-09-12",children:[],level:2}],c={toc:u};function h(e){var t=e.components,a=(0,l.Z)(e,n);return(0,i.kt)("wrapper",(0,r.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,'We are excited to announce the release of Metals v0.7.5 - codename "Thorium" \ud83c\udf89\nThe release includes couple of bug fixes for 0.7.2, which were present in some\nrare scenarios. We also added a new experimental feature, which we would be\nhappy to get feedback about.'),(0,i.kt)("p",null,"Metals is a language server for Scala that works with VS Code, Atom, Vim,\nSublime Text and Emacs. Metals is developed at the\n",(0,i.kt)("a",{parentName:"p",href:"https://scala.epfl.ch/"},"Scala Center")," and ",(0,i.kt)("a",{parentName:"p",href:"https://virtuslab.com"},"VirtusLab"),"\nalong with contributors from the community."),(0,i.kt)("p",null,"In this release we merged 12 PRs and closed 6 issues, full details:\n",(0,i.kt)("a",{parentName:"p",href:"https://github.com/scalameta/metals/milestone/17?closed=1"},"https://github.com/scalameta/metals/milestone/17?closed=1")),(0,i.kt)("h2",{id:"tldr"},"TL;DR"),(0,i.kt)("p",null,"Check out the website and give Metals a try: ",(0,i.kt)("a",{parentName:"p",href:"https://scalameta.org/metals/"},"https://scalameta.org/metals/")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"add auto-fill option to case classes"),(0,i.kt)("li",{parentName:"ul"},"deduce values for named parameters completions"),(0,i.kt)("li",{parentName:"ul"},"multiple fixes after adding support for Scala 2.12.9"),(0,i.kt)("li",{parentName:"ul"},"fixes for automatic addition of ",(0,i.kt)("inlineCode",{parentName:"li"},"|")," in multiline strings")),(0,i.kt)("h2",{id:"add-auto-fill-option-to-case-classes"},"Add auto-fill option to case classes"),(0,i.kt)("p",null,"Whenever we invoke a method and try completions inside the brackets there is an\nadditional option to allow Metals to deduce what should be filled for each\nparameter."),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://i.imgur.com/8pCiMqE.gif",alt:"auto-fill"})),(0,i.kt)("p",null,"This algorithm checks if there exists a value in scope with the same type as the\nparameters' and then works according to the rules below:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'1. If there is only one candidate, use it.\n2. If there is more than one, give user an alternative to choose one of them.\n3. Otherwise use use "???".\n')),(0,i.kt)("p",null,"This feature also uses the snippets syntax to allow to quickly go over the\nauto-filled parameters and choose or replace the auto-filled values."),(0,i.kt)("h2",{id:"deduce-values-for-named-parameters-completions"},"Deduce values for named parameters completions"),(0,i.kt)("p",null,"Leveraging the work that went into the previous feature, we were also able to\nprovide additional support for concrete values in named parameter completions."),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://i.imgur.com/m11xixy.gif",alt:"deduce"})),(0,i.kt)("p",null,"We generate completion item for each value that fits the type of the parameter."),(0,i.kt)("h2",{id:"multiple-fixes-after-adding-support-for-scala-2129"},"Multiple fixes after adding support for Scala 2.12.9"),(0,i.kt)("p",null,"After updating Metals to work with Scala 2.12.9 it turned out that completions\nand hover didn't work correctly and due to the presentation compiler crashing in\nthe following scenarios:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"whenever an older version of SemanticDB plugin was used as was the case with\nMill"),(0,i.kt)("li",{parentName:"ul"},"when using Scala 2.12.8 without SemanticDB plugin")),(0,i.kt)("p",null,"Both issues have now been fixed and additionally we updated the default Mill\nversion to 0.5.1, which works correctly with Scala 2.12.9."),(0,i.kt)("h2",{id:"fixes-for-automatic-addition-of--in-multiline-strings"},"Fixes for automatic addition of ",(0,i.kt)("inlineCode",{parentName:"h2"},"|")," in multiline strings"),(0,i.kt)("p",null,"We now make sure that ",(0,i.kt)("inlineCode",{parentName:"p"},"stripMargin")," exists when adding ",(0,i.kt)("inlineCode",{parentName:"p"},"|")," automatically in\nmultiline strings. This could cause issues in some scenarios, where multiline\nstring contained ",(0,i.kt)("inlineCode",{parentName:"p"},"|"),", but it was not only used for formatting."),(0,i.kt)("p",null,"Additionally, we fixed the feature to also work in interpolated strings, which\nwas missing in the previous release."),(0,i.kt)("h2",{id:"contributors"},"Contributors"),(0,i.kt)("p",null,"Big thanks to everybody who contributed to this release!"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"$ git shortlog -sn --no-merges v0.7.2..v0.7.5\nTomasz Godzik\nGabriele Petronella\n\u0141ukasz Byczy\u0144ski\nOlafur Pall Geirsson\n")),(0,i.kt)("h2",{id:"merged-prs"},"Merged PRs"),(0,i.kt)("h2",{id:"v075-2019-09-12"},(0,i.kt)("a",{parentName:"h2",href:"https://github.com/scalameta/metals/tree/v0.7.5"},"v0.7.5")," (2019-09-12)"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://github.com/scalameta/metals/compare/v0.7.2...v0.7.5"},"Full Changelog")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Merged pull requests:")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Revert sbt version to 1.2.8\n",(0,i.kt)("a",{parentName:"li",href:"https://github.com/scalameta/metals/pull/915"},"#","915"),"\n(",(0,i.kt)("a",{parentName:"li",href:"https://github.com/tgodzik"},"tgodzik"),")"),(0,i.kt)("li",{parentName:"ul"},"Upgrade to latest sbt-sonatype for faster and more stable releases\n",(0,i.kt)("a",{parentName:"li",href:"https://github.com/scalameta/metals/pull/912"},"#","912"),"\n(",(0,i.kt)("a",{parentName:"li",href:"https://github.com/olafurpg"},"olafurpg"),")"),(0,i.kt)("li",{parentName:"ul"},"Update with new Eclipse capabilities\n",(0,i.kt)("a",{parentName:"li",href:"https://github.com/scalameta/metals/pull/911"},"#","911"),"\n(",(0,i.kt)("a",{parentName:"li",href:"https://github.com/mundacho"},"mundacho"),")"),(0,i.kt)("li",{parentName:"ul"},"Check for stripMargin when adding |\n",(0,i.kt)("a",{parentName:"li",href:"https://github.com/scalameta/metals/pull/904"},"#","904"),"\n(",(0,i.kt)("a",{parentName:"li",href:"https://github.com/tgodzik"},"tgodzik"),")"),(0,i.kt)("li",{parentName:"ul"},"Add additional tips & tricks to the sublime text documentation\n",(0,i.kt)("a",{parentName:"li",href:"https://github.com/scalameta/metals/pull/906"},"#","906"),"\n(",(0,i.kt)("a",{parentName:"li",href:"https://github.com/LukaszByczynski"},"LukaszByczynski"),")"),(0,i.kt)("li",{parentName:"ul"},"Update sbt to 1.3.0 ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/scalameta/metals/pull/905"},"#","905"),"\n(",(0,i.kt)("a",{parentName:"li",href:"https://github.com/gabro"},"gabro"),")"),(0,i.kt)("li",{parentName:"ul"},"Fix more possible presentation compiler classpath issues\n",(0,i.kt)("a",{parentName:"li",href:"https://github.com/scalameta/metals/pull/901"},"#","901"),"\n(",(0,i.kt)("a",{parentName:"li",href:"https://github.com/tgodzik"},"tgodzik"),")"),(0,i.kt)("li",{parentName:"ul"},"Update Mill to 0.5.1 ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/scalameta/metals/pull/899"},"#","899"),"\n(",(0,i.kt)("a",{parentName:"li",href:"https://github.com/tgodzik"},"tgodzik"),")"),(0,i.kt)("li",{parentName:"ul"},"Update website overview and add information about Eclipse\n",(0,i.kt)("a",{parentName:"li",href:"https://github.com/scalameta/metals/pull/894"},"#","894"),"\n(",(0,i.kt)("a",{parentName:"li",href:"https://github.com/tgodzik"},"tgodzik"),")"),(0,i.kt)("li",{parentName:"ul"},"Retry with clean compiler after ShutdownReq\n",(0,i.kt)("a",{parentName:"li",href:"https://github.com/scalameta/metals/pull/898"},"#","898"),"\n(",(0,i.kt)("a",{parentName:"li",href:"https://github.com/tgodzik"},"tgodzik"),")"),(0,i.kt)("li",{parentName:"ul"},"Add automatic value completions on named arguments\n",(0,i.kt)("a",{parentName:"li",href:"https://github.com/scalameta/metals/pull/827"},"#","827"),"\n(",(0,i.kt)("a",{parentName:"li",href:"https://github.com/tgodzik"},"tgodzik"),")"),(0,i.kt)("li",{parentName:"ul"},"Fix links to merged PRs in blogpost\n",(0,i.kt)("a",{parentName:"li",href:"https://github.com/scalameta/metals/pull/896"},"#","896"),"\n(",(0,i.kt)("a",{parentName:"li",href:"https://github.com/tgodzik"},"tgodzik"),")"),(0,i.kt)("li",{parentName:"ul"},"Add release notes for v0.7.2\n",(0,i.kt)("a",{parentName:"li",href:"https://github.com/scalameta/metals/pull/886"},"#","886"),"\n(",(0,i.kt)("a",{parentName:"li",href:"https://github.com/tgodzik"},"tgodzik"),")")))}h.isMDXComponent=!0}}]);